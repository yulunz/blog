<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="花间一壶酒">
<meta name="description" content="I cook a lot (real cooking). However I find myself not sampling from my full pool of available recipes - only those I tried recently are considered. Good recipes will eventually lost to time. To manually set up a recipe pool with larger capacity, recipes are documented into cookbooks.
The cookbook is subject to continuous amendment as me the stat-person is marching through the foreign land of software develepment.">

<meta property="og:title" content="My Git Cookbook" />
<meta property="og:description" content="I cook a lot (real cooking). However I find myself not sampling from my full pool of available recipes - only those I tried recently are considered. Good recipes will eventually lost to time. To manually set up a recipe pool with larger capacity, recipes are documented into cookbooks.
The cookbook is subject to continuous amendment as me the stat-person is marching through the foreign land of software develepment." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://yulunz.me/blog/3/" />



<meta property="article:published_time" content="2017-09-20T10:58:14-05:00"/>
<meta property="article:modified_time" content="2017-09-20T10:58:14-05:00"/>












<title>


     My Git Cookbook 

</title>
<link rel="canonical" href="http://yulunz.me/blog/3/">










<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/pygments.css">
    <link rel="stylesheet" href="/css/main.css">
    




<link rel="shortcut icon"

    href="/img/favicon.ico"

>




</head>


<body lang="">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                
                <a href="/"><img class="avatar" src="/img/profile-4.jpg" srcset="http://yulunz.me/img/profile-4.jpg 1x"></a>
            
            <a href="/"><div class="name">花间一壶酒</div></a>
            
            <nav>
                <ul>
                    
                        <li class="nav-about"><a href="http://yulunz.me/about/"><span>About</span></a></li>
                    
                        <li class="nav-blog"><a href="http://yulunz.me/blog/"><span>Blog</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">

        

        
            <a href="//twitter.com/ligerleng" target="_blank" rel="noopener"><img class="icon" src="/img/twitter.svg" alt="twitter" /></a>
        

        

        
            <a href="//linkedin.com/in/yulunzeng" target="_blank" rel="noopener"><img class="icon" src="/img/linkedin.svg" alt="linkedin" /></a>
        

        

        

        

        

        
            <a href="http://yulunz.me/index.xml"><img class="icon" src="/img/rss.svg" alt="rss" /></a>
        
        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    My Git Cookbook

</div>

                    <div class="initials"><a href="http://yulunz.me/"></a></div>
                </div>
                <div class="meta">
                    
                    <div class="date" title='Wed Sep 20 2017 10:58:14 CDT'>Sep 20, 2017</div>
                    
                    
                </div>
            </div>
            <div class="markdown">
                

<p>I <em>cook</em> a lot (real cooking). However I find myself not sampling from my full pool of available recipes - only those I tried recently are considered. Good recipes will eventually lost to time. To manually set up a recipe pool with larger capacity, recipes are documented into <em>cookbooks</em>.</p>

<p>The cookbook is subject to continuous amendment as me the stat-person is marching through the foreign land of software develepment.</p>

<p>Long, long time ago, in a land far, far away, there was a stat-person&hellip;&hellip; Anyways, let&rsquo;s save the tale for another time.</p>

<h1 id="basics">Basics</h1>

<h2 id="the-simplest-workflow">The simplest workflow</h2>

<p>1-2-3-4&rsquo;s are the best for lazy peeps, but they are also more prone to misunderstanding. So warning: <strong>Only read on if you know what each is about</strong>.</p>

<ol>
<li><code>git clone</code> some repo to a local place.</li>
<li>(optional, but recommended) <code>git checkout -b &lt;new branch name&gt;</code></li>
<li>Make changes.</li>
<li><code>git add -u</code> to add changes made to pre-existing files. Then <code>git add &lt;new files&gt;</code>.</li>
<li><code>git commit -m &lt;your lovely commit message&gt;</code>.</li>
<li><code>git push -u origin &lt;the branch at origin you want to push to&gt;</code>.</li>
</ol>

<p>And, <em>voila</em>, your changes are under the sunlight.</p>

<h2 id="set-up-ssh-for-github">Set up SSH for Github</h2>

<p>You want to do this because you want SSH without entering your password everytime.</p>

<pre><code>ssh-keygen -b &lt;at least 2048&gt; -t &lt;your favorite crtypo algorithm&gt;
</code></pre>

<p>You will find a <code>id_rsa.pub</code> in <code>.ssh</code> file in your home directory. Will ya just copy the content to github on &ldquo;Settings - SSH and GPG keys - New SSH key&rdquo;?</p>

<h3 id="share-your-shell-without-sharing-your-password">Share Your Shell Without Sharing Your Password</h3>

<p><strong>Story:</strong> The professor decided (very kindly) to let students use his research desktop for the computational complex homework. The TA came in and ask students to run some weird scripts and send a <code>id_rsa.pub</code> to him by email so that they could access the desktop. Here is how he do it.</p>

<p>Simply add the content of <code>id_rsa.pub</code> to <code>~/.ssh/authorized_keys</code>.</p>

<h2 id="download-a-git-repo">Download a git repo</h2>

<p>Git personnel say <em>clone</em> when they mean <em>download</em> to enhance their geekiness.</p>

<pre><code>git clone &lt;repo&gt;
</code></pre>

<p>Please note that this will be only your copy of the original repo. You are free to mess with it, but the repo up there online will not change unless you tell git to do so.</p>

<p><strong>Story:</strong> A colleague asks another, &ldquo;my git clone is not working at all, please help.&rdquo; The other colleague tried in command line found nothing wrong with the repo. &ldquo;What are you doing exactly?&rdquo; &ldquo;I clicked on clone&hellip;&rdquo; &ldquo;So you are using S*****Tree? Try restarting.&rdquo; Lessons learned. Command line champs.</p>

<h2 id="take-a-look-at-your-git-tree">Take a look at your git tree</h2>

<p>Think of git as tree: you have a trunk (<em>master</em> branch), and <em>branches</em> coming out of the trunk at some point. Git people generally want to make changes to their codes on a <em>branch</em> of the tree, and <em>merge</em> them back to <em>master</em>. This avoids the ugly story of you find your changes being buggy and cannot return to the glorious past.</p>

<p>So, what are the branches in this repo?</p>

<pre><code>git branch -a
</code></pre>

<p>Green is the branch you are in; reds are the branches in the repo online but not in your local repo; whites are branches in your local repo.</p>

<p>You can go to white branches by</p>

<pre><code>git checkout &lt;your branch&gt;
</code></pre>

<p>You can create a local branch tracking some branches in the online repo</p>

<pre><code>git branch &lt;name of your new branch&gt;
git branch -u &lt;origin/tracking branch&gt; &lt;name of your new branch&gt;
git checkout &lt;name of your new branch&gt;
git pull
</code></pre>

<h2 id="add-your-changes-to-the-stage">Add your changes to the <em>stage</em></h2>

<p>Now you have done your job as a dev. You are eager to put them under the limelight. Git people called this staging.</p>

<pre><code>git add &lt;path to the file you have changed&gt;
</code></pre>

<p>Want to add all changes at once? This only applies to the case where the files you changed exist previously in the repo. If you added new files to the repo, you need to <code>git add</code>.</p>

<pre><code>git add -u
</code></pre>

<p>You are also able to remove files on the stage</p>

<pre><code>git rm &lt;path to the file you want to remove&gt;
</code></pre>

<p>So what&rsquo;s on the stage?</p>

<pre><code>git status
</code></pre>

<p>Greens are what you have on the stage. Reds are the ones you want to keep to yourself. These may be temporary files generated by your program while running. If you want them in the repo, just <code>git add</code>.</p>

<p>You can <code>git add</code> multiple times in the dev process before you <code>git commit</code> them.</p>

<p>Want to discard everthing on the stage? Just</p>

<pre><code>git reset
</code></pre>

<h2 id="commit-your-changes-when-you-are-done-with-everthing">Commit your changes when you are done with everthing</h2>

<p>You are still <em>not</em> committed changes to your repo. By committing, you will be leaving a mark on this branch&rsquo;s <em>history</em>. People will be able to see what did you do in your commit. It is like a milestone for your dev efforts. To commit</p>

<pre><code>git commit -m &lt;your lovely commit message&gt;
</code></pre>

<p>Don&rsquo;t make too many commits for some small feature in your code. This will make your repo <em>history</em> looks messy. Already have too much commits? No worries, take a look at the interactive rebase section below.</p>

<p>There are many good docs on how to write a good commit message. Ok tl;dr people, your message should at least be concise and clear catching the main changes in the commit.</p>

<p>A good practice is to add a small paragraph to your commit message. You can either create a file with the first line being your message and the third line your paragraph, and use</p>

<pre><code>git commit -F &lt;your file&gt;
</code></pre>

<p>Or, you can simply press enter while not closing your quotation marks with <code>-m</code>.</p>

<h2 id="push-your-local-changes-to-origin">Push your local changes to origin</h2>

<p>Now you have several commits ready that you want to push to your online repo. To do this</p>

<pre><code>git push -u origin &lt;the branch you want to push to&gt;
</code></pre>

<p>By adding <code>-u</code>, you are telling git that this remote branch is the mirror of your local branch. When you <code>git pull</code> (see later), your local branch will be pulling from this remote branch.</p>

<h2 id="download-changes-in-the-online-repo">Download changes in the online repo</h2>

<p>When your branch is outdated, generally you want a</p>

<pre><code>git pull
</code></pre>

<p>to sync up. It is equivalent to <code>git fetch</code> and then <code>git merge</code>， the former will add in what happened at the online repo while you are doing your work, but leaving your work untouched, the latter will merge the two lines of development. When nothing happens in your local branch but there is a lot happened online, do a <code>git pull</code>, otherwise do it separately.</p>

<h2 id="resolve-conflicts">Resolve conflicts</h2>

<p>When you want to merge two branches both originating from some common ancestor, do a</p>

<pre><code>git merge &lt;the other branch&gt;
</code></pre>

<p>while you are in another. However sometimes the branches each will have a word on the same part of the code. When git can&rsquo;t decide who to listen to, it gives you</p>

<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; branch A
Try to see it my way, do I have to keep on talking till I can't go on?
=======
While you see it your way, run the risk of knowing that our love may soon be gone.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; branch B
</code></pre>

<p>in the conflicting file. Simply delete these extra marks and leaving the file the way you want it to be when you save and exit.</p>

<h1 id="advanced">Advanced</h1>

<p>Now you are in the advanced land. People will assume you are a responsible adult being able to suck it up when you lose it. Well, not yet? Make a copy of your local git repo before you take adventures.</p>

<h2 id="branches-and-tags">Branches and tags</h2>

<h2 id="fixing-a-pushed-change">Fixing a pushed change</h2>

<h2 id="configure-git-commands">Configure git commands</h2>

<h2 id="git-modules">Git modules</h2>

<h2 id="moving-your-branch-to-another-node">Moving your branch to another node</h2>

<h2 id="interactive-rebasing-amazing">Interactive rebasing (amazing)</h2>

                <br>
		<p><a href="/blog/">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yulunzeng" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
    </div>
</section>








</body>
</html>

